{"version":3,"sources":["reportWebVitals.js","redux/data.js","redux/soil_properties.js","components/Utils/make_input.js","redux/input_costs.js","redux/other_info.js","components/Utils/calculator.js","components/SoilProperties/soil_properties_input.js","components/SoilProperties/farm_soil.js","components/SoilProperties/index.js","components/InputCosts/index.js","components/OtherInfo/index.js","components/BundleRecommendation/index.js","components/BundleJustification/table.js","components/BundleJustification/Bar.js","components/BundleJustification/index.js","components/Panes/index.js","components/App/index.js","redux/reducer.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SET_DATA","SET_ERROR","initialState","loading","errorOccured","farmerCost","selectError","s","data","error","selectErrorOccured","selectLoading","selectLocations","Object","keys","selectAllBundles","selectData","selectFarmerCost","soilPropertiesInitialState","ph","phThreshold","potassium","potassiumThreshold","phosphorus","phosphorusThreshold","selectedFarm","SET_PH","SET_POTASSIUM","SET_PHOSPHORUS","SET_SELECTED_FARM","setPH","value","type","setPotassium","setPhosphorus","selectPH","soilProperties","selectPHThreshold","selectPHSufficient","selectPotassium","selectPotassiumThreshold","selectPotassiumSufficient","selectPhosphorus","selectPhosphorusThreshold","selectPhosphorusSufficient","selectSelectedFarm","MakeInput","name","state","set","units","formatter","children","labelClassNames","inputClassNames","dispatch","useDispatch","useState","input","setInput","focused","setFocused","useEffect","parsed","Number","parseFloat","isNaN","a","className","htmlFor","style","onBlur","e","onFocus","onChange","target","inputCostsInitialState","seedCost","limeCost","inoculumCost","phosphorusCost","potassiumCost","SET_SEED_COST","SET_LIME_COST","SET_INOCULUM_COST","SET_PHOSPHORUS_COST","SET_POTASSIUM_COST","setSeedCost","setLimeCost","setInoculumCost","setPhosphorusCost","setPotassiumCost","selectSeedCost","inputCosts","selectLimeCost","selectInoculumCost","selectPhosphorusCost","selectPotassiumCost","otherInfoInitialState","inputsBudget","plotSize","priceOfGrain","SET_INPUTS_BUDGET","SET_PLOT_SIZE","SET_PRICE_OF_GRAIN","setInputsBudget","setPlotSize","setPriceOfGrain","selectInputsBudget","otherInfo","selectPlotSize","selectPriceOfGrain","console","log","bundle1coloR","bundleColors","calcBundleData","bundle","priceOfSoybean","location","budget","phSufficient","phosphorusSufficient","potassiumSufficient","bundleData","undef","bundleCost","soilRequiresBundle","margins","Yield","affordable","bundleSize","length","totalMargins","roi","bundleYield","required","totalCost","color","useAllBundleData","bundles","useSelector","map","useSortedBundles","filter","allBundleData","sort","data1","data2","useRecommendedBundle","recBundle","CountrySelect","props","countries","selected","c","SoilPropertiesInput","FarmSoilProperties","loc","farm","soilPrpos","soil","scope","Soil","Texture","pH","K","OM","SoilProperties","InputCosts","href","rel","OtherInfo","Bag","count","version","id","xmlns","x","y","viewBox","enableBackground","d","seedInfo","innoculumInfo","goodAgLink","process","phosphorusLink","potassiumLink","limeLink","abbrevToFullIngredient","b","inner","link","classNames","Ingredient","grid","Bundle","ingredients","slice","toFixed","length2bundle","1","2","3","4","5","BundleRecommendation","sortedBundles","makeMarginFinder","split","FarmerRow","BundleRow","useBundleData","req","aff","join","BundleTable","spec","width","height","padding","left","right","top","bottom","mark","strokeWidth","encoding","title","field","axis","labelFontSize","titleFontSize","stroke","condition","test","GraphExplanation","show","setShow","checked","fill","fillRule","TableExplanation","span","spane","BundleJustification","VegaLite","table","rec","InternalPane","buttonsBefore","hash","navId","goToNext","goToPrev","nextName","prevName","buttons","onClick","undefined","Pane","PanesContainer","Math","random","toString","substring","idPrefix","makeId","useCallback","setHash","timeout","saveTimeout","out","i","prevId","nextId","push","window","onresize","clearTimeout","setTimeout","Intro","App","DATA_URL","fetch","json","setData","catch","setError","JSON","stringify","rootReducer","combineReducers","action","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3fc61688.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const SET_DATA = \"data/setData\";\nconst SET_ERROR = \"data/setError\";\n\n/* State */\n//================================================================================\nconst initialState = {\n    loading: true,\n    errorOccured: false,\n    farmerCost: 173,\n};\n/* Actions */\n//================================================================================\nexport function setData(data) {\n    return {\n\ttype: SET_DATA,\n\tvalue: data\n    };\n}\nexport function setError(error) {\n    return {\n\ttype: SET_ERROR,\n\tvalue: error\n    };\n}\n/* Selectors */\n//================================================================================\nexport const selectError = s => s.data.error;\nexport const selectErrorOccured = s => s.data.errorOccured;\nexport const selectLoading = s => s.data.loading;\n\nexport const selectLocations = s => Object.keys(s.data.data[\"yield\"]);\nexport const selectBundlesForLocation = loc => s => Object.keys(s.data.data[\"yield\"][loc]);\nexport const selectYield = (loc, bundle) => s => s.data.data[\"yield\"][loc][bundle];\nexport const selectAllBundles = s => [\"s\", \"si\", \"sl\", \"sp\", \"sk\", \"sil\",\n\t\t\t\t      \"sip\", \"sik\", \"slp\", \"slk\", \"spk\", \"silp\",\n\t\t\t\t      \"silk\", \"sipk\", \"slpk\", \"silpk\"];\nexport const selectData = s => s.data.data[\"yield\"];\nexport const selectFarmerCost = s => s.data.farmerCost;\n\nexport const selectFarmSoilProperties = loc => s => s.data.data.soil[loc];\n\n/* Reducer */\n//================================================================================\nexport function dataReducer(state=initialState, action) {\n    switch (action.type) {\n    case SET_DATA:\n\tstate.data = action.value;\n\tstate.loading = false;\n\tbreak;\n    case SET_ERROR:\n\tstate.errorOccured = true;\n\tstate.error = action.value;\n\tstate.loading = false;\n\tbreak;\n    default:\n\tbreak;\n    }\n    return state;\n}\n","// TODO: maybe give this a directory and split stuff up\nimport { SET_DATA } from './data';\n\n/* State */\n//================================================================================\nexport const soilPropertiesInitialState = {\n    ph: 2,\n    phThreshold: 6,\n    potassium: 0,\n    potassiumThreshold: 110,\n    phosphorus: 0,\n    phosphorusThreshold: 30,\n    selectedFarm: null,\n}\n\n/* Actions */\n//================================================================================\nconst SET_PH = \"soilProperties/setPH\";\nconst SET_POTASSIUM = \"soilProperties/setPotassium\";\nconst SET_PHOSPHORUS = \"soilProperties/setPhosphorus\";\nconst SET_SELECTED_FARM = \"soilProperties/setSelectedFarm\";\n\nexport function setPH(value) {\n    return {\n\ttype: SET_PH,\n\tvalue: value\n    };\n}\nexport function setPotassium(value) {\n    return {\n\ttype: SET_POTASSIUM,\n\tvalue: value\n    };\n}\nexport function setPhosphorus(value) {\n    return {\n\ttype: SET_PHOSPHORUS,\n\tvalue: value\n    };\n}\nexport function setSelectedFarm(value) {\n    return {\n\ttype: SET_SELECTED_FARM,\n\tvalue: value\n    };\n}\n\n/* Selectors */\n//================================================================================\nexport const selectPH = (s) => s.soilProperties.ph;\nexport const selectPHThreshold = (s) => s.soilProperties.phThreshold;\nexport const selectPHSufficient = (s) => s.soilProperties.ph >= s.soilProperties.phThreshold;\n\nexport const selectPotassium = (s) => s.soilProperties.potassium;\nexport const selectPotassiumThreshold = (s) => s.soilProperties.potassiumThreshold;\nexport const selectPotassiumSufficient = (s) => s.soilProperties.potassium >= s.soilProperties.potassiumThreshold;\n\nexport const selectPhosphorus = (s) => s.soilProperties.phosphorus;\nexport const selectPhosphorusThreshold = (s) => s.soilProperties.phosphorusThreshold;\nexport const selectPhosphorusSufficient = (s) => s.soilProperties.phosphorus >= s.soilProperties.phosphorusThreshold;\n\nexport const selectSelectedFarm = (s) => s.soilProperties.selectedFarm;\n/* Reducer */\n//================================================================================\nexport function soilPropertiesReducer(state = soilPropertiesInitialState, action) {\n    switch (action.type) {\n    case SET_PH:\n\tstate.ph = action.value;\n\tbreak;\n    case SET_PHOSPHORUS:\n\tstate.phosphorus = action.value;\n\tbreak;\n    case SET_POTASSIUM:\n\tstate.potassium = action.value;\n\tbreak;\n    case SET_SELECTED_FARM:\n\tstate.selectedFarm = action.value;\n\tbreak;\n\t// EXTERNAL\n    case SET_DATA:\n\tstate.selectedFarm = Object.keys(action.value[\"soil\"])[0];\n\tbreak;\n    default:\n\tbreak;\n    }\n    return state;\n}\n","import { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nexport const MakeInput = ({name, state, set, units, formatter, children, labelClassNames, inputClassNames}) => { \n    const dispatch = useDispatch();\n    const [input, setInput] = useState(state);\n    const [focused, setFocused] = useState(false);\n    useEffect(() => {\n\tlet parsed = Number.parseFloat(input);\n\tif (!isNaN(parsed) && parsed && parsed !== state) {\n\t    dispatch(set(parsed));\n\t}\n    }, [dispatch, state, set, input]);\n\n    if (!formatter) {\n\tformatter = (a) => a;\n    }\n\n    return <>\n\t<label className={labelClassNames} htmlFor={name}> {children} </label>\n\t<div style={{\"whiteSpace\": \"nowrap\"}} className={inputClassNames}>\n\t<input style={{\"width\": \"5rem\"}} name={name} value={focused ? input : formatter(input)} onBlur={(e) => setFocused(false)} onFocus={(e) => setFocused(true)} onChange={e => setInput(e.target.value)} />\n\t<span className=\"units\"> {units} </span>\n\t</div>\n\t</>;\n};\n","/* State */\n//================================================================================\nexport const inputCostsInitialState = {\n    seedCost: 44.8,\n    limeCost: 37.25,\n    inoculumCost: 14.14,\n    phosphorusCost: 109.93,\n    potassiumCost: 58.15,\n};\n/* Actions */\n//================================================================================\nconst SET_SEED_COST = \"inputCosts/setSeedCost\";\nconst SET_LIME_COST = \"inputCosts/setLimeCost\";\nconst SET_INOCULUM_COST = \"inputCosts/setInoculumCost\";\nconst SET_PHOSPHORUS_COST = \"inputCosts/setPhosphorusCost\";\nconst SET_POTASSIUM_COST = \"inputCosts/setPotassiumCost\";\n\nexport function setSeedCost(value) {\n    return {\n\ttype: SET_SEED_COST,\n\tvalue: value\n    };\n}\nexport function setLimeCost(value) {\n    return {\n\ttype: SET_LIME_COST,\n\tvalue: value\n    };\n}\nexport function setInoculumCost(value) {\n    return {\n\ttype: SET_INOCULUM_COST,\n\tvalue: value\n    };\n}\nexport function setPhosphorusCost(value) {\n    return {\n\ttype: SET_PHOSPHORUS_COST,\n\tvalue: value\n    };\n}\nexport function setPotassiumCost(value) {\n    return {\n\ttype: SET_POTASSIUM_COST,\n\tvalue: value\n    };\n}\n/* Selectors */\n//================================================================================\nexport const selectSeedCost = (s) => s.inputCosts.seedCost;\nexport const selectLimeCost = (s) => s.inputCosts.limeCost;\nexport const selectInoculumCost = (s) => s.inputCosts.inoculumCost;\nexport const selectPhosphorusCost = (s) => s.inputCosts.phosphorusCost;\nexport const selectPotassiumCost = (s) => s.inputCosts.potassiumCost;\n\n/* Reducer */\n//================================================================================\nexport function inputCostsReducer(state = inputCostsInitialState, action) {\n    switch (action.type) {\n    case SET_SEED_COST:\n\tstate.seedCost = action.value;\n\tbreak;\n    case SET_LIME_COST:\n\tstate.limeCost = action.value;\n\tbreak;\n    case SET_INOCULUM_COST:\n\tstate.inoculumCost = action.value;\n\tbreak;\n    case SET_PHOSPHORUS_COST:\n\tstate.phosphorusCost = action.value;\n\tbreak;\n    case SET_POTASSIUM_COST:\n\tstate.potassiumCost = action.value;\n\tbreak;\n    default:\n\tbreak;\n    }\n    return state;\n}\n","/* State */\n//================================================================================\nexport const otherInfoInitialState = {\n    inputsBudget: 200,\n    plotSize: .5,\n    priceOfGrain: 400\n};\n/* Actions */\n//================================================================================\nconst SET_INPUTS_BUDGET = \"otherInfo/setInputsBudget\";\nconst SET_PLOT_SIZE= \"otherInfo/setPlotSize\";\nconst SET_PRICE_OF_GRAIN = \"otherInfo/setPriceOfGrain\";\n\nexport function setInputsBudget(value) {\n    return {\n\ttype: SET_INPUTS_BUDGET,\n\tvalue: value\n    };\n}\nexport function setPlotSize(value) {\n    return {\n\ttype: SET_PLOT_SIZE,\n\tvalue: value\n    };\n}\nexport function setPriceOfGrain(value) {\n    return {\n\ttype: SET_PRICE_OF_GRAIN,\n\tvalue: value\n    };\n}\n/* Selectors */\n//================================================================================\nexport const selectInputsBudget = (s) => s.otherInfo.inputsBudget;\nexport const selectPlotSize = (s) => s.otherInfo.plotSize;\nexport const selectPriceOfGrain = (s) => s.otherInfo.priceOfGrain;\n\n/* Reducer */\n//================================================================================\nexport function otherInfoReducer(state = otherInfoInitialState, action) {\n    switch (action.type) {\n    case SET_INPUTS_BUDGET:\n\tstate.inputsBudget = action.value;\n\tbreak;\n    case SET_PLOT_SIZE:\n\tstate.plotSize = action.value;\n\tbreak;\n    case SET_PRICE_OF_GRAIN:\n\tstate.priceOfGrain = action.value;\n\tbreak;\n    default:\n\tbreak;\n    }\n    return state;\n}\n","import { useSelector } from 'react-redux';\n\nimport { selectPHSufficient,\n\t selectPotassiumSufficient,\n\t selectPhosphorusSufficient, } from  '../../redux/soil_properties';\nimport { selectSeedCost,\n\t selectLimeCost,\n\t selectPhosphorusCost,\n\t selectPotassiumCost,\n\t selectInoculumCost } from '../../redux/input_costs';\nimport { selectFarmerCost, selectAllBundles, selectData } from '../../redux/data';\nimport { selectSelectedFarm } from '../../redux/soil_properties';\nimport { selectPlotSize,\n\t selectInputsBudget,\n\t selectPriceOfGrain } from '../../redux/other_info';\nimport {bundle1coloR} from '../../vars.scss';\nconsole.log(bundle1coloR);\n\nconst bundleColors = [\"rgb(255, 46, 23)\",\n\t\t      \"rgb(255, 215, 80)\",\n\t\t      \"rgb(0, 185, 242)\",\n\t\t      \"rgb(21, 166, 85)\",\n\t\t      \"rgb(145, 105, 172)\"];\n// this is ugly but whatever...\nconst calcBundleData = ({ bundle, data, location, priceOfSoybean, farmerCost, budget, plotSize, phSufficient, phosphorusSufficient, limeCost, phosphorusCost, potassiumCost, potassiumSufficient, inoculumCost, seedCost, bundleData}) => {\n    // no data for bundle at location\n    if (!bundleData) {\n\treturn {\n\t    undef: true,\n\t};\n    }\n\n    let bundleCost = 0;\n    let soilRequiresBundle = true;\n    for (let c of bundle) {\n\tswitch (c) {\n\tcase \"s\":\n\t    bundleCost += seedCost;\n\t    break;\n\tcase \"i\":\n\t    bundleCost += inoculumCost;\n\t    break;\n\tcase \"l\":\n\t    if (phSufficient) {\n\t\tsoilRequiresBundle = false;\n\t    }\n\t    bundleCost += limeCost;\n\t    break;\n\tcase \"p\":\n\t    if (phosphorusSufficient) {\n\t\tsoilRequiresBundle = false;\n\t    }\n\t    bundleCost += phosphorusCost;\n\t    break;\n\tcase \"k\":\n\t    if (potassiumSufficient) {\n\t\tsoilRequiresBundle = false;\n\t    }\n\t    bundleCost += potassiumCost;\n\t    break;\n\tdefault:\n\t    break;\n\t    //throw \"Unknown character in bundle\";\n\t}\n    }\n    const margins = bundleData.Yield * priceOfSoybean - bundleCost - farmerCost;\n    const affordable = bundleCost * plotSize < budget;\n    return {\n\tbundle: bundle,\n\tundef: false,\n\tbundleSize: bundle.length,\n\tbundleCost: bundleCost,\n\tmargins: margins,\n\ttotalMargins: plotSize * margins,\n\troi: margins/bundleCost,\n\tbundleYield: bundleData.Yield,\n\trequired: soilRequiresBundle,\n\taffordable: affordable,\n\ttotalCost: bundleCost + farmerCost,\n\tcolor: bundleColors[bundle.length - 1]\n    };\n};\n\nexport const useAllBundleData = () => {\n    const bundles = useSelector(selectAllBundles);\n    const data = useSelector(selectData);\n    const location = useSelector(selectSelectedFarm);\n    const priceOfSoybean = useSelector(selectPriceOfGrain);\n    const farmerCost = useSelector(selectFarmerCost);\n    const budget = useSelector(selectInputsBudget);\n    const plotSize = useSelector(selectPlotSize);\n    const phSufficient = useSelector(selectPHSufficient);\n    const phosphorusSufficient = useSelector(selectPhosphorusSufficient);\n    const limeCost = useSelector(selectLimeCost);\n    const phosphorusCost = useSelector(selectPhosphorusCost);\n    const potassiumCost = useSelector(selectPotassiumCost);\n    const potassiumSufficient = useSelector(selectPotassiumSufficient);\n    const inoculumCost = useSelector(selectInoculumCost);\n    const seedCost = useSelector(selectSeedCost);\n\n    return bundles.map((bundle) => calcBundleData({ bundle,\n\t\t\t\t\t\t    data,\n\t\t\t\t\t\t    location,\n\t\t\t\t\t\t    priceOfSoybean,\n\t\t\t\t\t\t    farmerCost,\n\t\t\t\t\t\t    budget,\n\t\t\t\t\t\t    plotSize,\n\t\t\t\t\t\t    phSufficient,\n\t\t\t\t\t\t    phosphorusSufficient,\n\t\t\t\t\t\t    limeCost,\n\t\t\t\t\t\t    phosphorusCost,\n\t\t\t\t\t\t    potassiumCost,\n\t\t\t\t\t\t    potassiumSufficient,\n\t\t\t\t\t\t    inoculumCost,\n\t\t\t\t\t\t    seedCost,\n\t\t\t\t\t\t    bundleData: data[location][bundle] }));\n};\nexport const useBundleData = (bundle) => {\n    const data = useSelector(selectData);\n    const location = useSelector(selectSelectedFarm);\n    const priceOfSoybean = useSelector(selectPriceOfGrain);\n    const farmerCost = useSelector(selectFarmerCost);\n    const budget = useSelector(selectInputsBudget);\n    const plotSize = useSelector(selectPlotSize);\n    const phSufficient = useSelector(selectPHSufficient);\n    const phosphorusSufficient = useSelector(selectPhosphorusSufficient);\n    const limeCost = useSelector(selectLimeCost);\n    const phosphorusCost = useSelector(selectPhosphorusCost);\n    const potassiumCost = useSelector(selectPotassiumCost);\n    const potassiumSufficient = useSelector(selectPotassiumSufficient);\n    const inoculumCost = useSelector(selectInoculumCost);\n    const seedCost = useSelector(selectSeedCost);\n    const bundleData = data[location][bundle];\n\n    return calcBundleData({ bundle,\n\t\t\t    data,\n\t\t\t    location,\n\t\t\t    priceOfSoybean,\n\t\t\t    farmerCost,\n\t\t\t    budget,\n\t\t\t    plotSize,\n\t\t\t    phSufficient,\n\t\t\t    phosphorusSufficient,\n\t\t\t    limeCost,\n\t\t\t    phosphorusCost,\n\t\t\t    potassiumCost,\n\t\t\t    potassiumSufficient,\n\t\t\t    inoculumCost,\n\t\t\t    seedCost,\n\t\t\t    bundleData });\n}\nexport const useSortedBundles = (filter = true) => {\n    const allBundleData = useAllBundleData();\n\n    return [...allBundleData]\n\t  .filter((data) => !filter || data.affordable && data.required && !data.undef )\n\t  .sort((data1, data2) => data2.margins - data1.margins);\n}\nexport const useRecommendedBundle = () => {\n    const recBundle = useSortedBundles();\n    if (recBundle.length === 0) {\n\treturn null;\n    }\n    return recBundle[0];\n};\n","import { useDispatch, useSelector } from 'react-redux';\n\nimport { selectSelectedFarm,\n\t setSelectedFarm,\n\t selectPH,\n\t selectPHThreshold,\n\t selectPHSufficient,\n\t setPH,\n\t selectPotassium,\n\t selectPotassiumThreshold,\n\t selectPotassiumSufficient,\n\t setPotassium,\n\t selectPhosphorus,\n\t selectPhosphorusThreshold,\n\t selectPhosphorusSufficient,\n\t setPhosphorus } from '../../redux/soil_properties';\nimport { selectLocations } from '../../redux/data';\n\nimport { MakeInput } from '../Utils';\n\nconst CountrySelect = (props) => {\n    const dispatch = useDispatch();\n    const countries = useSelector(selectLocations);\n    const selected = useSelector(selectSelectedFarm);\n    return <div className=\"row\">\n\t<label className=\"col\" htmlFor=\"location\"> Nearest SMART Farm: </label>\n\t<select className=\"col form-select me-5\"\n    style={{\"width\": \"min-content\"}}\n    name=\"location\"\n    value={selected}\n    onChange={(e) => dispatch(setSelectedFarm(e.target.value))}\n\t>\n\t{countries.map((c) => <option key={c} value={c}> {c} </option>)}\n    </select>\n\t</div>;\n}\n\nconst SoilPropertiesInput = (props) => {\n    const ph = useSelector(selectPH);\n    const phThreshold = useSelector(selectPHThreshold);\n    const phSufficient = useSelector(selectPHSufficient);\n    const potassium = useSelector(selectPotassium);\n    const potassiumThreshold = useSelector(selectPotassiumThreshold);\n    const potassiumSufficient = useSelector(selectPotassiumSufficient);\n    const phosphorus = useSelector(selectPhosphorus);\n    const phosphorusThreshold = useSelector(selectPhosphorusThreshold);\n    const phosphorusSufficient = useSelector(selectPhosphorusSufficient);\n\n    return <form className=\"border border-3 shadow p-2 mb-2 me-4\" style={{\"width\": \"max-content\"}}>\n\t<div className=\"row mb-3\">\n\t<MakeInput labelClassNames=\"col\" inputClassNames=\"col\" name=\"ph\" state={ph} set={setPH}>\n\tpH (threshold: {phThreshold})\n\t<span className={`badge ms-1 ${phSufficient ? 'bg-success' : 'bg-danger'}`}> {phSufficient ? 'Sufficient' : 'Insufficient' } </span>\n    </MakeInput>\n\t</div>\n\t<div className=\"row mb-3\">\n\t<MakeInput labelClassNames=\"col-6\" inputClassNames=\"col\" name=\"potassium\" state={potassium} set={setPotassium} units=\"mg/kg\">\n\tpotassium (threshold: {potassiumThreshold})\n\t<span className={`badge ms-1 ${potassiumSufficient ? 'bg-success' : 'bg-danger'}`}> {potassiumSufficient ? 'Sufficient' : 'Insufficient' } </span>\n\t</MakeInput>\n\t</div>\n\t<div className=\"row\">\n\t<MakeInput labelClassNames=\"col\" inputClassNames=\"col\" name=\"phosphorus\" state={phosphorus} set={setPhosphorus} units=\"mg/kg\">\n\tphosphorus (threshold: {phosphorusThreshold})\n\t<span className={`badge ms-1 ${phosphorusSufficient ? 'bg-success' : 'bg-danger'}`}> {phosphorusSufficient ? 'Sufficient' : 'Insufficient' } </span>\n\t</MakeInput>\n\t</div>\n\t<CountrySelect />\n\t</form>;\n}\n\nexport default SoilPropertiesInput;\n","import { useSelector } from \"react-redux\";\nimport { selectFarmSoilProperties } from \"../../redux/data.js\";\nimport { selectSelectedFarm } from \"../../redux/soil_properties.js\";\n\nconst FarmSoilProperties = (props) => {\n    const farm = useSelector(selectSelectedFarm);\n    const soilPrpos = useSelector(selectFarmSoilProperties(farm));\n\n    return <div className=\"border border-3 shadow\">\n\t<h4 className=\"m-3 text-decoration-underline\">Measured Soil Properties for sample farm in {farm}</h4>\n\t<table className=\"align-middle table table-bordered fs-5 mx-auto\" style={{\"width\": \"max-content\"}}>\n\t<tbody>\n\t<tr><th scope=\"row\">Soil</th><td>{soilPrpos.Soil || \"unkown\"}</td></tr>\n\t<tr><th scope=\"row\">Texture</th><td> {soilPrpos.Texture || \"unkown\"}</td></tr>\n\t<tr><th scope=\"row\">pH</th><td>{soilPrpos.pH || \"unkown\"}</td></tr>\n\t<tr><th scope=\"row\">K</th><td>{soilPrpos.K || \"unkown\"} </td></tr>\n\t<tr><th scope=\"row\">OM</th><td>{soilPrpos.OM || \"unkown\"}</td></tr>\n\t</tbody>\n\t</table>\n\t</div>;\n};\n\nexport default FarmSoilProperties;\n","import SoilPropertiesInput from './soil_properties_input';\nimport FarmSoilProperties from './farm_soil';\n\nconst SoilProperties = (props) => {\n    return <div className=\"\">\n\t<div className=\"w-100\">\n\t<h1> Soil Properties </h1>\n\t<p className=\"fs-5\">\n\tSoil health is critical for soybean production as insufficient amounts of nutrients in the soils can restrict plant growth and yields. Knowing soil nutrient concentrations is important in deciding which inputs to invest in to maximize yields.\n\t<br />\n\tIn this section, you will put in your field’s soil pH, P, and K levels into the boxes below and select your location to get comparable yield responses. Thresholds are based off Mehlich-3 values for phosphorus and potassium. If your soil P test was performed using Bray-P for phosphorus, multiple your values by 1.35 to convert to Mehlich-3 values. If your soil K test was performed using ammonium acetate, multiply your values by 1.14 to convert to Mehlich-3 values. Any values that are above the soil response threshold are considered ‘sufficient’ and bundles with those inputs will not be considered for recommendation. \n\t</p>\n\t</div>\n\t<div className=\"d-flex justify-content-center flex-wrap\">\n\t<SoilPropertiesInput />\n\t<FarmSoilProperties />\n\t</div>\n\t</div>;\n};\n\nexport default SoilProperties;\n","import { useSelector } from 'react-redux';\n\nimport { setSeedCost,\n\t selectSeedCost,\n\t setLimeCost,\n\t selectLimeCost,\n\t setInoculumCost,\n\t selectInoculumCost,\n\t setPhosphorusCost,\n\t selectPhosphorusCost,\n\t setPotassiumCost,\n\t selectPotassiumCost } from '../../redux/input_costs';\nimport { setInputsBudget,\n\t selectInputsBudget,\n\t setPlotSize,\n\t selectPlotSize } from '../../redux/other_info';\n\nimport { MakeInput } from '../Utils';\n\nconst InputCosts = (props) => {\n    const seedCost = useSelector(selectSeedCost);\n    const limeCost = useSelector(selectLimeCost);\n    const inoculumCost = useSelector(selectInoculumCost);\n    const phosphorusCost = useSelector(selectPhosphorusCost);\n    const potassiumCost = useSelector(selectPotassiumCost);\n    const inputsBudget = useSelector(selectInputsBudget);\n    const plotSize = useSelector(selectPlotSize);\n\n    const formatter = (s) => '$' + s;\n    return <div className=\"d-flex flex-column justify-content-center\">\n\t<h1> Input Budget and Costs </h1>\n\t<p className=\"fs-5\">\n\tA farmer’s budget can make some inputs, or bundles of inputs, financially impractical. The SMART Farms use a stepwise bundling approach that considers your cost of inputs and budget to determine bundle recommendations for your unique situation. This stepwise approach balances the risk of incorporating new technologies into current farming practices. You will put in your starting input budget (USD), plot size (hectares), and the cost of the four inputs considered (USD). Any bundles that cost more than your allotted budget will not be considered for recommendation.\n\n    For help converting local currency to USD please use <a href=\"https://www.xe.com/currencyconverter/\" target=\"_blank\" rel=\"noreferrer\">this currency converter</a>. \n\t</p>\n\t<div className=\"d-flex flex-column justify-content-center\">\n    <form className=\"border border-3 shadow p-2 mb-2 me-4 align-self-center\" style={{\"width\": \"max-content\"}}>\n\t<div className=\"row mb-3\">\n\t<MakeInput labelClassNames=\"col\" inputClassNames=\"col\" formatter={formatter} name=\"seedCost\" state={seedCost} set={setSeedCost} units=\"per hectare\">\n\tSeed:\n    </MakeInput>\n\t</div>\n\t<div className=\"row my-3\">\n\t<MakeInput labelClassNames=\"col\" inputClassNames=\"col\" formatter={formatter} name=\"limeCost\" state={limeCost} set={setLimeCost} units=\"per hectare\">\n\tLime:\n    </MakeInput>\n\t</div>\n\t<div className=\"row my-3\">\n\t<MakeInput labelClassNames=\"col\" inputClassNames=\"col\" formatter={formatter} name=\"inoculumCost\" state={inoculumCost} set={setInoculumCost} units=\"per hectare\">\n\tInoculum:\n    </MakeInput>\n\t</div>\n\t<div className=\"row my-3\">\n\t<MakeInput labelClassNames=\"col\" inputClassNames=\"col\" formatter={formatter} name=\"phosphorusCost\" state={phosphorusCost} set={setPhosphorusCost} units=\"per hectare\">\n\tPhosphorus:\n    </MakeInput>\n\t</div>\n\t<div className=\"row my-3\">\n\t<MakeInput labelClassNames=\"col\" inputClassNames=\"col\" formatter={formatter} name=\"potassiumCost\" state={potassiumCost} set={setPotassiumCost} units=\"per hectare\">\n\tPotassium:\n    </MakeInput>\n\t</div>\n\t</form>\n    <form className=\"border border-3 shadow p-2 mb-2 me-4 align-self-center\" style={{\"width\": \"max-content\"}}>\n\t<div className=\"row\">\n\t<MakeInput labelClassNames=\"col-5\" inputClassNames=\"col-7\" formatter={formatter} name=\"inputsBudget\" state={inputsBudget} set={setInputsBudget} units=\"per hectare\">\n\tInputs Budget:\n    </MakeInput>\n\t</div>\n\t<div className=\"row mt-3\">\n\t<MakeInput labelClassNames=\"col-5\" inputClassNames=\"col-7\" name=\"plotSize\" state={plotSize} set={setPlotSize} units={`hectare${plotSize > 1 ? 's' : ''}`}>\n\tPlot Size:\n    </MakeInput>\n\t</div>\n\t</form>\n\t</div>\n    </div>;\n}\nexport default InputCosts;\n","import { useSelector } from 'react-redux';\n\nimport { setPriceOfGrain,\n\tselectPriceOfGrain,\n       } from '../../redux/other_info';\n\nimport { MakeInput } from '../Utils';\n\nconst OtherInfo = (props) => {\n    const priceOfGrain = useSelector(selectPriceOfGrain);\n\n    const formatter = (s) => '$' + s;\n    return <div className=\"d-flex flex-column justify-content-center\">\n\t<h1> Price of Grain</h1>\n\t<p className=\"fs-5\">\n\tThe final step in determining which bundle is right for you is to consider the gross margins of each bundle. This is tied to the price of grain at the time of sale. From the remaining choices, the bundle with the highest gross margin (revenue minus the cost of inputs) will be selected as your bundle recommendation. \n\t</p>\n    <form className=\"border border-3 shadow p-2 mb-2 me-4 align-self-center\" style={{\"width\": \"max-content\"}}>\n\t<div className=\"row mb-3\">\n\t<MakeInput labelClassNames=\"col\" inputClassNames=\"col\" formatter={formatter} name=\"priceOfGrain\" state={priceOfGrain} set={setPriceOfGrain} units=\"per MT\">\n\tPrice of Grain:\n    </MakeInput>\n\t</div>\n\t</form>\n    </div>;\n}\nexport default OtherInfo;\n","import { useSelector } from 'react-redux';\n\nimport { useRecommendedBundle, useSortedBundles } from '../Utils';\n\nimport './index.scss';\n//import bag from './bag.png';\n\nconst Bag = ({count, selected}) => {\n    return <svg className={`bag-${count} ${selected ? 'selected' : ''}`} style={{\"gridArea\": `i${count}`}} version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n    viewBox=\"-50 -50 612 612\" enableBackground=\"new 0 0 512 512\"> {/* original viewbox 0-512*/}\n\t<path d=\"M336,111.797c8.844,0,16,7.156,16,16s-7.156,16-16,16H176c-8.844,0-16-7.156-16-16s7.156-16,16-16H336z M345.25,159.797\n\tH166.734C87.469,217.609,32,340.141,32,417.953c0,104.656,100.281,93.5,224,93.5s224,11.156,224-93.5\n\tC480,340.141,424.531,217.609,345.25,159.797z M166.734,95.797H345.25c0,0,70.75-61.719,38.75-88.719s-103,30-128,28\n\tc-25,2-96-55-128-28S166.734,95.797,166.734,95.797z\"/>\n\t</svg>\n}\n\nlet seedInfo = \"https://7b7dcda8-7264-4c41-b9a2-b2e845d0c5d1.usrfiles.com/ugd/7b7dcd_f26de695289d47f28626edb854721c9a.pdf\";\nlet innoculumInfo = \"https://7b7dcda8-7264-4c41-b9a2-b2e845d0c5d1.usrfiles.com/ugd/7b7dcd_2c0c8b735d164c928fafa927d983abaf.pdf\";\nlet goodAgLink = `${process.env.PUBLIC_URL}/Soybean Prodcution primer for Input Calculator-compressed.pdf`;\nlet phosphorusLink = `${process.env.PUBLIC_URL}/Fertilizing Soybean UM extesnion -2020.pdf`;\nlet potassiumLink = `${process.env.PUBLIC_URL}/Fertilizing Soybean UM extesnion -2020.pdf`;\nlet limeLink = `${process.env.PUBLIC_URL}/Applying Lime to Raise Soil pH OSU-2013.pdf`;\nconst abbrevToFullIngredient = (b, link=false) => {\n    //let classNames = \"badge fs-3 mx-1 border border-2 border-primary bg-transparent text-reset\"\n    let classNames = \"\";\n    let inner;\n  switch (b) {\n    case \"s\":\n      inner = <> Seed </>;\n      if (link) {\n\t  inner = <a href={seedInfo}> Seed </a>;\n      }\n      return (<span className={classNames} key=\"s\"> {inner} </span>);\n    case \"i\":\n      inner = <> Inoculum </>;\n      if (link) {\n\t  inner = <a href={innoculumInfo}> Inoculum </a>;\n      }\n      return (<span className={classNames} key=\"i\"> {inner} </span>);\n    case \"l\":\n      inner = <> Lime </>;\n      if (link) {\n\t  inner = <a href={limeLink}> Lime </a>;\n      }\n      return (<span className={classNames} key=\"l\"> {inner} </span>);\n    case \"p\":\n      inner = <> Phosphorus </>;\n      if (link) {\n\t  inner = <a href={phosphorusLink}> Phosphorus </a>;\n      }\n      return (<span className={classNames} key=\"p\"> {inner} </span>);\n    case \"k\":\n      inner = <> Potassium </>\n      if (link) {\n\t  inner = <a href={potassiumLink}> Potassium </a>;\n      }\n      return (<span className={classNames} key=\"k\"> {inner} </span>);\n    default:\n      return;\n  }\n}\nconst MakeRecBundle = ({bundle}) => {\n    return <p className=\"text-center\">\n\t{bundle.map((b) => abbrevToFullIngredient(b))}\n\t</p>;\n}\n\nconst Ingredient = ({children, bundle, grid}) => {\n    return <div className={`ingredient-${bundle} m-2 shadow border border-2 border-dark`} style={grid && {\"gridArea\":grid}}>\n\t{children}\n\t</div>;\n} \nconst Bundle = ({count, selected, bundle}) => {\n    const ingredients = [\n\t    <Ingredient bundle={count} key=\"gap\" grid={`9 / ${count + 1}`}> <h4> Good Agronomic Practices</h4> </Ingredient>,\n\t    <Ingredient bundle={count} key=\"cs\" grid={`8 / ${count + 1}`}> <h4> Certified Seed</h4> </Ingredient>,\n\t    <Ingredient bundle={count} key=\"1\" grid={`7 / ${count + 1}`}> <h4> {abbrevToFullIngredient(bundle.bundle[1])}</h4> <h5>(+1 Input) </h5> </Ingredient>,\n\t    <Ingredient bundle={count} key=\"2\" grid={`6 / ${count + 1}`}> <h4> {abbrevToFullIngredient(bundle.bundle[2])}</h4><h5> (+1 Input) </h5> </Ingredient>,\n\t    <Ingredient bundle={count} key=\"3\" grid={`5 / ${count + 1}`}> <h4> {abbrevToFullIngredient(bundle.bundle[3])}</h4><h5> (+1 Input) </h5> </Ingredient>,\n\t    <Ingredient bundle={count} key=\"4\" grid={`4 / ${count + 1}`}> <h4> {abbrevToFullIngredient(bundle.bundle[4])}</h4><h5> (+1 Input) </h5> </Ingredient>,\n    ];\n    return <>\n\t<div id={`bundle-${count}`} className={selected ? 'selected' : ''}>\n\t</div>\n\t{ ingredients.slice(0, count + 2)}\n\t<Bag count={count + 1} selected={selected}/>\n\t<div className={`border border-dark border-2 px-3 py-1 margin-${count}`} style={{\"gridArea\":`2/${count + 1}`}}>\n\t<h4> Margin: ${bundle.margins.toFixed(0)} </h4>\n\t</div>\n\t<div className={`border border-dark border-2 my-1 px-3 py-1 bundle-title-${count}`} style={{\"gridArea\":`1/${count + 1}`}}>\n\t<h4> {length2bundle[count + 1]} Bundle </h4>\n\t</div>\n\t</>;\n}\nconst length2bundle = {\n    1: \"Red\",\n    2: \"Yellow\",\n    3: \"Blue\",\n    4: \"Green\",\n    5: \"Purple\",\n};\nconst BundleRecommendation = (props) => {\n    const sortedBundles = useSortedBundles(false);\n    const recBundle = useRecommendedBundle();\n\n    if (recBundle === null) {\n\treturn <h1> No Recommended Bundle (Either nothing is required, or nothing is affordable)</h1>;\n    }\n    const makeMarginFinder = (x) => sortedBundles.filter((e) => e.bundle.length == x)[0];\n    return <div className=\"d-flex flex-column align-items-center\">\n\t<div className=\"mx-auto my-2 p-2 shadow border border-3\" style={{\"width\": \"max-content\"}}>\n\t<h3> We recommend the <span className={`b-${recBundle.bundle.length}`}> {length2bundle[recBundle.bundle.length]} Bundle </span> </h3>\n\t</div>\n\t<div id=\"bundle-rec\">\n\t<Bundle count={0} bundle={makeMarginFinder(1)} selected={recBundle.bundle.length == 1}/>\n\t<Bundle bundle={makeMarginFinder(2)} count={1} selected={recBundle.bundle.length == 2}/>\n\t<Bundle bundle={makeMarginFinder(3)} count={2} selected={recBundle.bundle.length == 3}/>\n\t<Bundle bundle={makeMarginFinder(4)} count={3} selected={recBundle.bundle.length == 4}/>\n\t<Bundle bundle={makeMarginFinder(5)} count={4} selected={recBundle.bundle.length == 5}/>\n\n    {/* The purpose of the hidden div is to make sure that row is of a comparable height */}\n\t<div style={{\"gridArea\": \"3/1\", \"visibility\": \"hidden\"}}> <h4> Test </h4><h5> Test </h5> </div>\n\t</div>\n\t<div> </div>\n\t<div id=\"lower-rec-text\" className=\"mx-auto my-2 p-2 shadow border border-3\">\n\t<h3>\n\tThe &nbsp;\n\t<span className={`b-${recBundle.bundle.length}`}>\n\t{length2bundle[recBundle.bundle.length]} Bundle\n    </span> \n\t&nbsp;builds off of the &nbsp;\n\t<span className=\"b-1\">\n\tRed Bundle\n    </span>\n\t&nbsp; which includes &nbsp;\n\t<a href={goodAgLink} style={{\"textDecoration\":\"underline\"}}>\n\tGood Agronomic Practices\n    </a>\n\t&nbsp;and &nbsp;\n\t<span style={{\"textDecoration\":\"underline\"}}>\n\t<a href={seedInfo}> Seed</a>\n    </span>\n\t&nbsp;and adds {recBundle.bundle.length - 1} additional inputs\n\t</h3>\n\t</div>\n\t<div className=\"mx-auto my-2 p-2 shadow border border-3\" style={{\"width\": \"max-content\"}}>\n\t<h3> Your additional inputs are </h3>\n\t<ul>\n\t{ recBundle.bundle.split('').filter((e) => e != 's').map((e) => <li key={e}> <h4>{abbrevToFullIngredient(e, true)} </h4></li>) }\n\t</ul>\n\t</div>\n\t</div>;\n}\nexport default BundleRecommendation;\n","import { useSelector } from 'react-redux';\n\nimport { selectFarmerCost, selectAllBundles, selectData } from '../../redux/data';\nimport { selectSelectedFarm } from '../../redux/soil_properties';\nimport { selectPlotSize,\n\t selectPriceOfGrain } from '../../redux/other_info';\n\nimport { useRecommendedBundle, useBundleData } from '../Utils';\n\nconst FarmerRow = (props) => {\n    const data = useSelector(selectData);\n    const location = useSelector(selectSelectedFarm);\n    const priceOfSoybean = useSelector(selectPriceOfGrain);\n    const farmerCost = useSelector(selectFarmerCost);\n    const plotSize = useSelector(selectPlotSize);\n\n    const bundleData = data[location][\"Farmer\"];\n    const margins = bundleData.Yield * priceOfSoybean - farmerCost;\n    return (<tr className=\"farmer\">\n\t    <td>Farmer{/*Bundle */}</td> \n\t    <td>N/A{/*Cost of bundle */}</td> \n\t    <td>${ farmerCost.toFixed(2) }{/*Total cost */}</td> \n\t    <td>{ bundleData.Yield }{/*prediction */}</td> \n\t    <td>${margins.toFixed(2)}{/*margins */}</td> \n\t    <td>${(margins * plotSize).toFixed(2)}{/*total margins */}</td> \n\t    <td>N/A{/*roi */}</td> \n\t    <td>N/A{/* required */}</td> \n\t    <td>N/A{/* aff */}</td> \n\t</tr>\n    );\n}\nconst BundleRow = ({ bundle }) => {\n    const { undef,\n\t    bundleCost,\n\t    margins,\n\t    totalMargins,\n\t    roi,\n\t    bundleYield,\n\t    required,\n\t    affordable,\n\t    totalCost } = useBundleData(bundle);\n    const recBundle = useRecommendedBundle();\n\n    if (undef) {\n\treturn (<tr id={bundle} className=\"undefined\">\n\t\t<td> {bundle} {/*Bundle */}</td>\n\t\t<td> N/A{/*Cost of bundle */}</td>\n\t\t<td> N/A {/*Total cost per (Ha)*/}</td>\n\t\t<td> N/A {/*prediction */}</td>\n\t\t<td> N/A {/*margins */}</td>\n\t\t<td> N/A {/*total margins */}</td>\n\t\t<td> N/A {/*roi */}</td>\n\t\t<td> N/A {/* req */}</td>\n\t\t<td> N/A {/* affordable */}</td>\n\t\t</tr>);\n    }\n    let className = [required ? \"bundle-required\" : \"not-bundle-required\",\n\t\t     affordable ? \"affordable\" : \"not-affordable\",\n\t\t     `table-bundle-${bundle.length}${recBundle.bundle !== bundle ? '-non-rec' : ''}`,\n\t\t    ];\n    if (recBundle.bundle === bundle) {\n\t//className.push(\"border border-5 border-success shadow\");\n    }\n    let req = required ? <i className=\"bi bi-check2\"></i>: <i className=\"bi bi-dash\"></i>;\n    let aff = affordable ? <i className=\"bi bi-check2\"></i>: <i className=\"bi bi-dash\"></i>;\n    return (<tr id={bundle} className={className.join(\" \")}>\n\t    <td className=\"position-relative\">\n\t    {recBundle.bundle === bundle && <span className=\"position-absolute translate-middle\" style={{\"top\": \"50%\", \"left\": \"-1rem\"}}><i className=\"bi bi-arrow-right-circle\"></i></span>}\n\t    {bundle} {/*Bundle */}</td> \n\t    <td> ${bundleCost.toFixed(2)}{/*Cost of bundle */}</td> \n\t    <td> ${ (totalCost).toFixed(2)} {/*Total cost per (Ha)*/}</td> \n\t    <td> { bundleYield.toFixed(2) } {/*prediction */}</td> \n\t    <td> ${ margins.toFixed(2) }{/*margins */}</td> \n\t    <td> ${totalMargins.toFixed(2)}{/*total margins */}</td> \n\t    <td> {roi.toFixed(2)}{/*roi */}</td> \n\t    <td> {req /*affordable */} </td>\n\t    <td className=\"position-relative\"> {aff /*affordable */}\n\t    {recBundle.bundle === bundle && <span className=\"position-absolute translate-middle\" style={{\"top\": \"50%\", \"right\": \"-2rem\"}}><i className=\"bi bi-arrow-left-circle\"></i></span>}\n\t    </td>\n\t    </tr>\n\t   );\n}\nexport const BundleTable = (props) => {\n    const bundles = useSelector(selectAllBundles);\n    return(<table className=\"table table-bordered border border-3\">\n\t   <thead>\n\t   <tr>\n\t   <th scope=\"col\"> Bundle </th>\n\t   <th scope=\"col\"> Cost of Bundle </th>\n\t   <th scope=\"col\"> Total Cost (per Ha) </th>\n\t   <th scope=\"col\"> Yield Prediction </th>\n\t   <th scope=\"col\"> Margins (per Ha) </th>\n\t   <th scope=\"col\"> Total Gross Margins </th>\n\t   <th scope=\"col\"> Return on Investment </th>\n\t   <th scope=\"col\"> Required </th>\n\t   <th scope=\"col\"> Affordable </th>\n\t   </tr>\n\t   </thead>\n\t   <tbody>\n\t   <FarmerRow />\n\t   { bundles.map((e) => <BundleRow key={e} bundle={e} />) }\n\t   </tbody>\n\t   </table>);\n}\n\n","\nconst spec = {\n    width: \"container\",\n    height: \"container\",\n    padding: { left: 5, right: 5, top: 5, bottom: 5 },\n\n    data: {name: 'table',},\n    mark: {\n\ttype: 'bar',\n\tstrokeWidth: 5,\n    },\n    encoding: {\n\tx: {\n\t    title: 'Bundle ID',\n\t    field: 'bundle',\n\t    type: 'ordinal',\n\t    axis: {\n\t\tlabelFontSize: 20,\n\t\ttitleFontSize: 20,\n\t    },\n\t    sort: null,\n\t},\n\ty: {\n\t    title: 'Gross Margins',\n\t    field: 'margins',\n\t    type: 'quantitative',\n\t    axis: {\n\t\tlabelFontSize: 20,\n\t\ttitleFontSize: 20,\n\t    }\n\t},\n\tcolor: {\n\t    field: 'color',\n\t    type: 'nominal',\n\t    \"scale\": null\n\t},\n\tstroke: {\n\t    condition: {\n\t\ttest: \"datum['rec']\", \n\t\tvalue: \"#000000\"\n\t    },\n\t}\n    }\n};\n\nexport default spec;\n","import { useState } from 'react';\nimport { VegaLite } from 'react-vega';\n\nimport { BundleTable } from './table'\nimport spec from './Bar';\n\nimport { useRecommendedBundle, useAllBundleData } from '../Utils/calculator';\nimport './index.scss';\n\nconst GraphExplanation = () => {\n    const [show, setShow] = useState(false);\n    return <div className=\"container border border-3 mb-3\">\n\t<div className=\"d-flex flex-row justify-content-between\">\n\t<h5 className=\"m-3\"> Graph Legend</h5>\n\t<label className=\"custom-collapse-button btn m-2 btn-primary\">\n\t<input checked={show} className=\"d-none\" type=\"checkbox\" onChange={() => setShow(!show)}/>\n\t{show ? \"Hide\": \"Show\"}\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-down mx-1\" viewBox=\"0 0 16 16\">\n  <path fillRule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\n</svg>\n\t</label>\n\t</div>\n\t<p className={`${show ? '' : 'd-none'}`}>\nTotal gross margin estimates for all bundles that fulfill both soil fertility and budget criteria. The “Farmer” treatment represents typical soybean farming practices in southern Africa. It is assumed that saved seed is used with no additional inputs, and that labor costs are absorbed by the household. Under these conditions it is estimated that a typical farmer will generate a gross margin of $182 USD and a yield of 0.82 MT per hectare laboring between 60 and 70 workdays in a season.\n\ns: seed; i: rhizobium inoculant; p: phosphorus fertilizer; k: potassium fertilizer\n\t</p>\n\t</div>;\n}\nconst TableExplanation = () => {\n    const [show, setShow] = useState(false);\n    return <div className=\"container border border-3 mb-3\">\n\t<div className=\"d-flex flex-row justify-content-between\">\n\t<h5 className=\"m-3\"> Table Legend</h5>\n\t<label className=\"custom-collapse-button btn m-2 btn-primary\">\n\t<input checked={show} className=\"d-none\" type=\"checkbox\" onChange={() => setShow(!show)}/>\n\t{show ? \"Hide\": \"Show\"}\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-down mx-1\" viewBox=\"0 0 16 16\">\n  <path fillRule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\n</svg>\n\t</label>\n\t</div>\n\t<table className={`table table-bordered ${show ? '' : 'd-none'}`}>\n\t   <tbody>\n\t<tr>\n\t<th scope=\"row\">Bundle</th><td>\n\t<table className=\"table\">\n\t<tbody>\n\t<tr>\n\t<th scope=\"row\">\n\ts\n\t</th>\n\t<td>\n\tseed\n\t</td>\n\t</tr>\n\t<tr>\n\t<th scope=\"row\">\n\ti\n\t</th>\n\t<td>\n\trhizobium inoculant\n\t</td>\n\t</tr>\n\t<tr>\n\t<th scope=\"row\">\n\tp\n\t</th>\n\t<td>\n\tphosphorus fertilizer\n\t</td>\n\t</tr>\n\t<tr>\n\t<th scope=\"row\">\n\tk\n\t</th>\n\t<td>\n\tpotassium fertilizer\n\t</td>\n\t</tr>\n\t<tr>\n\t<th scope=\"row\">\n\tl\n\t</th>\n\t<td>\n\tlime\n\t</td>\n\t</tr>\n\t<tr>\n\t<th className=\"pe-2\" scope=\"row\">\n\tFarmer\n\t</th>\n\t<td>\nTypical soybean farming costs and yields for a farmer in southern Africa. It is assumed that saved seed is used with no additional inputs, and that labor costs are absorbed by the household. Under these conditions it is estimated that a typical farmer will generate a gross margin of $182 USD and a yield of 0.89 MT per hectare laboring between 60 and 70 workdays in a season.\n\t</td>\n\t</tr>\n\t</tbody>\n\t</table>\n\t</td></tr>\n\t<tr>\n\t<th span=\"row\">\n\tCost of Bundle/ha\n\t</th>\n\t<td>\n\tthe sum of all inputs from the ‘Input Budget and Costs’ page\n\t</td>\n\t</tr>\n\t<tr>\n\t<th span=\"row\">\n\tTotal cost/ha\n\t</th>\n\t<td>\n\tthe sum of all inputs from the ‘Input Budget and Costs’ page\n\t</td>\n\t</tr>\n\t<tr>\n\t<th span=\"row\">\n\tYield Predictions\n\t</th>\n\t<td>\n\tobtained from SMART Farm location data\n\t</td>\n\t</tr>\n\t<tr>\n\t<th span=\"row\">\nGross margins/ha\n\t</th>\n\t<td>\nbased off revenues (price of grain * yield/ha) minus the cost/ha (input + labor costs)\n\t</td>\n\t</tr>\n\t<tr>\n\t<th span=\"row\">\nTotal gross margins \n\t</th>\n\t<td>\n\tgross margins/ha * total plot size\n\t</td>\n\t</tr>\n\t<tr>\n\t<th span=\"row\">\nReturn on Investment (ROI) \n\t</th>\n\t<td>\n\tgross margins/ha divided by the cost of bundle/ha\n\t</td>\n\t</tr>\n\t<tr>\n\t<th scope=\"row\">Required</th><td>\n\t<table className=\"table mb-0\">\n\t<tbody>\n\t<tr>\n\t<th spane=\"row\"><i className=\"bi bi-dash\"></i></th>\n\t<td> soils sufficient and input not needed for soybean production. bundles are not considered for bundle recommendation</td>\n\t</tr>\n\t<tr>\n\t<th spane=\"row\"><i className=\"bi bi-check2\"></i></th>\n\t<td>\n\tsoils insufficient and all inputs in bundle are needed to aid soybean production\n    </td>\n\t</tr>\n\t</tbody>\n\t</table>\n\t</td>\n\t</tr>\n\t<tr>\n\t<th scope=\"row\">Affordable</th><td>\n\t<table className=\"table mb-0\">\n\t<tbody>\n\t<tr>\n\t<th spane=\"row\"><i className=\"bi bi-dash\"></i></th>\n\t<td> price of bundle exceeds your input budget. These bundles are not considered for bundle recommendation.</td>\n\t</tr>\n\t<tr>\n\t<th spane=\"row\"><i className=\"bi bi-check2\"></i></th>\n\t<td>\n\tprice of bundle within your input budget\n    </td>\n\t</tr>\n\t</tbody>\n\t</table>\n\t</td>\n\t</tr>\n\t   </tbody>\n\t   </table>\n\t</div>;\n}\nconst BundleJustification = (props) => {\n    const bundleData = useAllBundleData();\n    const recBundle = useRecommendedBundle();\n    return <div className=\"d-flex flex-column align-items-center\">\n\t<BundleTable />\n\t<TableExplanation />\n\t<VegaLite\n    width=\"800\"\n    height=\"500\"\n    spec={spec}\n    data={{table: bundleData.filter((e) => e.required && e.affordable).map(e => {\n\treturn {...e, rec: e.bundle == recBundle.bundle ? \"Our Recommendation\" : \"\"}\n    })}} />\n\t<GraphExplanation />\n\t</div>;\n};\nexport default BundleJustification;\n","import React, { useCallback, useEffect, useState } from 'react';\n\n// TODO add a canAdvnace arg to panes which is a function which determines\n// whether the nextButton should be enabled or disabled\nconst InternalPane = ({buttonsBefore, children, hash, navId, goToNext, goToPrev, nextName, prevName}) => {\n    const buttons = <div className={`d-flex mb-1 mb-md-5 ${prevName ? \"justify-content-between\" : \"justify-content-end\"} ${buttonsBefore ? 'mt-3' : ''}`}>\n\t\t       <button type=\"button\" className={`btn btn-primary me-1 ${prevName ? \"\" : \"d-none\"}`}\n\t\t\t       onClick={goToPrev}\n\t\t       >\n\t\t\t   <i className=\"bi-arrow-left\" style={{\"fontSize\": \"1.5rem\"}}></i>\n\t\t\t   &nbsp; {prevName}\n\t\t       </button>\n\t\t       <button type=\"button\" className={`btn btn-primary ${nextName ? \"\" : \"d-none\"}`}\n\t\t\t       onClick={goToNext}\n\t\t       >\n\t\t\t   {nextName} &nbsp;\n\t\t\t   <i className=\"bi-arrow-right\" style={{\"fontSize\": \"1.5rem\"}}></i>\n\t\t       </button>\n\t\t    </div>;\n    return <div id={navId} style={{\"minWidth\": \"100vw\", \"minHeight\": \"100vh\"}} className={`mb-5 overflow-auto ${hash === navId ? \"\" : \"d-none\"}`}>\n\t       <div className=\"d-flex h-100 justify-content-between flex-column container-md\">\n\t\t   {buttonsBefore ? buttons : undefined}\n\t\t   <div className=\"row\">\n\t\t       <div className=\"col\">\n\t\t\t   {children}\n\t\t       </div>\n\t\t   </div>\n\t\t   {buttonsBefore ? undefined : buttons}\n\t       </div>\n\t   </div>;\n}\nexport const Pane = ({children}) => children;\n\nexport const PanesContainer = ({ children }) => {\n    const [idPrefix, setIdPrefix] = useState(Math.random().toString(36).substring(7));\n    const makeId = useCallback((x) => `${idPrefix}-${x.props.navId}`, [idPrefix]);\n    const [hash, setHash] = useState(makeId(children[0]));\n    const [timeout, saveTimeout] = useState(undefined);\n\n\n    let out = []\n    for (let i = 0; i < children.length; i++) {\n\tlet goToNext = undefined;\n\tlet goToPrev = undefined;\n\tlet prevName = undefined;\n\tlet nextName = undefined;\n\tif (i !== 0) {\n\t    let prevId = makeId(children[i - 1]);\n\t    goToPrev = () => {\n\t\tsetHash(prevId);\n\t    };\n\t    prevName = children[i-1].props.name;\n\t}\n\tif (i !== children.length - 1) {\n\t    const nextId = makeId(children[i + 1]);\n\t    goToNext = () => {\n\t\tsetHash(nextId);\n\t    };\n\t    nextName = children[i+1].props.name;\n\t}\n\tconst id = makeId(children[i]);\n\tout.push(<InternalPane\n\t\t     buttonsBefore={children[i].props.buttonsBefore}\n\t\t     key={id}\n\t\t     hash={hash}\n\t\t     navId={id}\n\t\t     goToNext={goToNext}\n\t\t     nextName={nextName}\n\t\t     goToPrev={goToPrev}\n\t\t     prevName={prevName}>\n\t\t     {children[i]}\n\t\t </InternalPane>);\n    }\n\n    useEffect(() => {\n\twindow.location.hash = hash;\n\t}, [hash]);\n    useEffect(() => {\n\twindow.onresize = () => {\n\t    if (timeout) {\n\t\tclearTimeout(timeout);\n\t    }\n\t    saveTimeout(setTimeout(() => {\n\t\twindow.location.hash = hash\n\t\tsaveTimeout(undefined);\n\t    }, 500));\n\t};\n    }, [timeout, hash]);\n\n    return <div className=\"d-flex\" style={{\"width\": \"min-content\"}}>\n\t       {/* TODO improve this */}\n\t       {/*<h1 className={showScroll ? \"show\" : \"noshow\"}\n\t\t   id=\"dont-scroll\">\n\t\t   Hey, press buttons, don't scroll!\n\t\t   </h1> */}\n\t       {out}\n\t   </div>;\n}\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { setError,\n\t selectErrorOccured,\n\t selectError,\n\t selectLoading,\n\t setData } from '../../redux/data';\n\nimport SoilProperties from '../SoilProperties';\nimport InputCosts from '../InputCosts';\nimport OtherInfo from '../OtherInfo';\nimport BundleRecommendation from '../BundleRecommendation';\nimport BundleJustification from '../BundleJustification';\nimport { PanesContainer, Pane } from '../Panes';\n\nconst Intro = () => {\n    return <div className=\"intro\">\n\t<h1>\n\tSMART Farm Input Recommendation Calculator \n    </h1>\n\t<p className=\"fs-5\"> \nSoybean production requires agricultural inputs such as lime, phosphorus and potassium fertilizer, and rhizobium inoculant to ensure a profitable crop. However, soil conditions along with a farmer’s limited budget can make some inputs unnecessary or financially impractical. The Soybean Innovation Lab (SIL) conducts input omission trials, or <a href=\"https://7b7dcda8-7264-4c41-b9a2-b2e845d0c5d1.usrfiles.com/ugd/7b7dcd_738bcfbf8bbc4ee78d1a0ec4f806ec5f.pdf\">SMART Farms</a>, in several locations throughout Africa to address unique, location-specific constraints to recommend input bundles that will maximize yields. Using the data acquired from these SMART Farms, SIL has developed an input bundle recommendation calculator in order to give the same evidence-based, cost-effective bundle recommendations to a broader audience that may not have the means to conduct their own SMART Farm trials. This calculator considers each user’s unique situation including location, soil properties, and budget to generate the input bundle recommendation that results in the highest Return on Investment (ROI) for the grower.  \n\t</p>\n\t<h2> Instructions </h2>\n\t<p className=\"fs-5\">Proceed through each section and input appropriate values for soil properties and location, input budget and costs, and price of grain in your area. The recommended bundle will be the bundle that produces the highest gross margins and addresses your soil fertility needs and budget constraints. This calculator also creates a graph and table showing the gross margins of all possible bundles and which criteria (budget or soil fertility) they fulfill to provide a better understanding of how your recommended input bundle was selected. \n\t</p>\n\n\t</div>;\n}\n\nconst App = () => {\n    const dispatch = useDispatch();\n\n    const errorOccured = useSelector(selectErrorOccured);\n    const error = useSelector(selectError);\n    const loading = useSelector(selectLoading);\n\n    // maybe one day use redux-thunk, but not right now.\n    const DATA_URL = `${process.env.PUBLIC_URL}/data.json`;\n    useEffect(() => {\n\tfetch(DATA_URL)\n\t    .then((data) => data.json())\n\t    .then((data) => dispatch(setData(data)))\n\t    .catch((error) => {\n\t\tconsole.error(error);\n\t\tdispatch(setError(error))\n\t    });\n    }, [dispatch, DATA_URL]);\n    if (errorOccured) {\n\treturn <div>\n\t    <h1> error!</h1>\n\t    <pre> {JSON.stringify(error)}</pre>\n\t    </div>;\n    }\n    if (loading) {\n\treturn <h1> loading </h1>;\n    }\n    return <PanesContainer>\n\t<Pane name=\"Intro\" navId=\"intro\"> <Intro /> </Pane>\n\t<Pane name=\"Soil Properties\" navId=\"soil-properties\"> <SoilProperties />  </Pane>\n\t<Pane name=\"Input Costs\" navId=\"input-costs\"> <InputCosts />  </Pane>\n\t<Pane name=\"Other Info\" navId=\"other-info\"> <OtherInfo />  </Pane>\n\t<Pane name=\"Bundle Recommendation\" navId=\"bundle-rec\"> <BundleRecommendation/>  </Pane>\n\t<Pane buttonsBefore={true} name=\"Bundle Justification\" navId=\"bundle-just\"> <BundleJustification/>  </Pane>\n    </PanesContainer>;\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\n\nimport { soilPropertiesReducer } from './soil_properties';\nimport { dataReducer } from './data';\nimport { inputCostsReducer } from './input_costs';\nimport { otherInfoReducer } from './other_info';\n\nconst rootReducer = combineReducers({\n    soilProperties: soilPropertiesReducer,\n    data: dataReducer,\n    inputCosts: inputCostsReducer,\n    otherInfo: otherInfoReducer\n});\n\nexport default rootReducer;\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\n\nimport reportWebVitals from './reportWebVitals';\nimport App from './components/App'\nimport rootReducer from './redux/reducer';\n\nimport './index.scss';\n\nconst store = createStore(rootReducer,\n\t\t\t  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nrender(\n    <Provider store={store}>\n\t<React.StrictMode>\n\t    <App />\n\t</React.StrictMode>\n    </Provider>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}